# Introduction to Markdown
\label{cha:introduction_to_markdown}

*Markdown* is a lightweight markup language designed to be human-friendly and easily convertible to HTML.[^markdown_origins] Unfortunately, by itself Markdown is a little *too* lightweight, and the original "vanilla" Markdown is generally inadequate for producing professionally typeset documents. (For example, vanilla Markdown is unable to produce numbered footnotes.[^footnote_example]) Softcover therefore supports a *superset* of vanilla Markdown, including the [*kramdown*](http://kramdown.gettalong.org/) extensions, GitHub-style [*fenced code blocks*](https://help.github.com/articles/github-flavored-markdown#fenced-code-blocks), and embedded \LaTeX\@. The Softcover dialect of Markdown is, to our knowledge, the most powerful one available, with support for figures, tables, code listings, and mathematical equations (all with numbered, linked cross-references).

The rest of this chapter includes a quick tutorial on vanilla Markdown. Readers who already know vanilla Markdown can skip to Chapter~\ref{cha:softcover_markdown} for coverage of the custom Softcover extensions.

Softcover supports a superset of John Gruber's original Markdown, including the [*kramdown*](http://kramdown.gettalong.org/) extensions, [fenced code blocks](https://help.github.com/articles/github-flavored-markdown#fenced-code-blocks), and embedded \LaTeX. Until this chapter is finished, please consult the following resources:

* The template files generated by `softcover new`, which have lots of examples of how to use the system

* The [source of this book](https://github.com/softcover/softcover_book), which is written mostly in Markdown

* The original [Markdown syntax reference](http://daringfireball.net/projects/markdown/syntax)

* The [kramdown documentation](http://kramdown.gettalong.org/syntax.html)

Authors can also switch to the more complicated but more powerful \PolyTeX\ input format at any time:

```console
$ mv generated_polytex/*.tex chapters/
$ rm -f chapters/*.md
```

## Foo bar

Being productive in Markdown requires only a subset of the full language, and the following material is an opinionated survet of Mardown's most useful features. For a comprehensive treatment of Markdown syntax, see the [syntax page](http://daringfireball.net/projects/markdown/syntax) by John Gruber (Markdown's principal creator).

### Headings

At the highest level, Markdown documents are structured like HTML, with a convenient syntax for defining the equivalent of HTML headings (`h1`, `h2`, etc.). There are actually several equivalent syntaxes, but my favorite is simply to use the octothorpe character `#`:

```text
# Top-level heading (h1)

Lorem ipsum

## Second-level heading (h2)

Dolor sit amet

### Third level (h3)

Consectetur

#### Fourth (h4)

dipisicing elit

```

\noindent Softcover currently supports down to `####` (correpsonding to a "subsubsection" in \LaTeX).

### Text formatting

Markdown supports *italicized* text using two _different_ formats (asterisks or underscores):

```text
Markdown supports *italicized* text using two _different_ formats
```

\noindent It also supports **boldface** via two asterisks:

```text
It also supports **boldface** via two asterisks
```

\noindent The two formats can be nested using a combination of asterisks and underscores, yielding _**boldface italic**_:

```text
yielding _**boldface italic**_
```

#### Blockquotes

*Blockquotes* are supported using right angle brackets, which is inspired by the format of quoted replies in plain-text email clients:

> Il semble que la perfection soit atteinte non
> quand il n'y a plus rien à ajouter,
> mais quand il n'y a plus rien à retrancher.
>
> —Antoine de Saint-Exupéry, *Terre des hommes*

\noindent This quote[^quote_translation] is produced by the code

```text
> Il semble que la perfection soit atteinte non
> quand il n'y a plus rien à ajouter,
> mais quand il n'y a plus rien à retrancher.
> —Antoine de Saint-Exupéry, *Terre des hommes*
```

\noindent Note the use of the Unicode [em dash](http://en.wikipedia.org/wiki/Dash#Em_dash) '—'; Softcover (but not vanilla Markdown) also supports \LaTeX-style triple dashes, with \verb+---+ being set as '---' (Section~\ref{sec:softcover_markdown_text_formatting}).

I generally find Markdown's style of blockquote syntax fine when an email program automatically puts in the `>` brackets, but it's cumbersome to put them in by hand. Good text editors can make constructing blockquotes easier, but it still involves more friction than I'd like. I think \LaTeX's syntax is nicer (Section~\ref{sec:polytex_text_formatting}), especially since it can more easily be produced by a text-editor macro or tab trigger.

#### Source code

Markdown can also formats source code and other verbatim text. Backticks indicate inline code, as in the `def` keyword:

```text
as in the `def` keyword
```

\noindent Code blocks can be set using four spaces of indentation, with


    def hello
      puts "hello, world!"
    end

\noindent being produced by

```text
    def hello
      puts "hello, world!"
    end
```

\noindent Note that this is *not* my preferred method for including source code, and I strongly encourage using GitHub-style code fencing (Section~\ref{sec:code_formatting}) or \LaTeX\ code environments (Section~\ref{sec:latex_code_formatting}) instead.


### Links and images

Markdown supports links through a convenient format inspired by common usage in email, where you might write something like this as:

```text
Check out the Ruby on Rails Tutorial (http://railstutorial.org/)
```

\noindent Markdown adds one piece of syntax to resolve the ambiguity of exactly which text corresponds to the link, thus letting you check out the [Ruby on Rails Tutorial](http://railstutorial.org/) as follows:

```text
check out the [Ruby on Rails Tutorial](http://railstutorial.org/) as follows
```

Images follow a similar syntax, with the text being preceded by an exclamation point. This allows you to embed images like so:

![Michael Hartl](images/2011_michael_hartl.png)

```text
This allows you to embed images like so:

![Michael Hartl](images/2011_michael_hartl.png)
```

\noindent Due to the details of how Softcover processes Markdown, unfortunately the bracketed text does *not* get used as the image alt text; instead, the filename (minus extension) is the alt text:[^latex_images]

```html
![Michael Hartl](images/2011_michael_hartl.png) ->
  <img alt="2011_michael_hartl" src="images/2011_michael_hartl.png" />
```

\noindent As a result, it's a good idea to use meaningful filenames for images.

Images in vanilla Markdown are limited to embedding as above, but Softcover extends Markdown to provide a wide variety of other behavior, including captioned images, numbered figures, and numbered figures with captions (Section~\ref{sec:softcover_markdown_images}).

### Lists

Markdown supports both numbered and unnumbered lists.

#### Numbered lists

Numbered lists are simple:

1. Foo
2. Baz
3. Quux

```text
Numbered lists are simple:

1. Foo
2. Baz
3. Quux
```

\noindent One counterintuitive aspect of numbered lists is that the numbering need not be sequential; instead, the numbering is handled automatically by the HTML `<ol>` tag. This means that the following list is rendered as above:

3. Foo
1. Baz
2. Quux

```text
This means that the following list is rendered as above:

3. Foo
1. Bar
2. Quux
```
 \noindent Though potentially confusing, this behavior is nice when you need to insert an element but you don't want to have to renumber them all by hand:

 1. Foo
 2. Bar
 2. Baz
 3. Quux

```text
you don't want to have to renumber them all by hand:

 1. Foo
 2. Bar
 2. Baz
 3. Quux
```

#### Unnumbered lists

Unnumbered lists are even easier:

* Foo
* Bar
* Baz

```text
Unnumbered lists are even easier:

* Foo
* Bar
* Baz
```

\noindent You can alternately uses minuses (or even pluses):

- One fish
- Two fish
- Red fish
- Blue fish

```text
You can alternately uses minuses (or even pluses):

- One fish
- Two fish
- Red fish
- Blue fish
```

#### Paragraphs in lists

*   A list item.

    With multiple paragraphs.

*   Another item in the list.


In the case of both numbered and unnumbered lists, you can put a paragraph in a list element by indenting the desired paragraphs four spaces, like so:

1. Foo

    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
    consequat.

1. Baz

1. Bar

    Duis aute irure dolor in reprehenderit in voluptate velit esse
    cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
    proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

```text
you can put a paragraph in a list element by indenting the desired paragraphs
four spaces, like so:

1. Foo

    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
    consequat.

1. Baz

1. Bar

    Duis aute irure dolor in reprehenderit in voluptate velit esse
    cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
    proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
```



<!--

Getting the Gist of Markdown's Formatting Syntax
------------------------------------------------

This page offers a brief overview of what it's like to use Markdown.
The [syntax page] [s] provides complete, detailed documentation for
every feature, but Markdown should be very easy to pick up simply by
looking at a few examples of it in action. The examples on this page
are written in a before/after style, showing example syntax and the
HTML output produced by Markdown.

It's also helpful to simply try Markdown out; the [Dingus] [d] is a
web application that allows you type your own Markdown-formatted text
and translate it to XHTML.

**Note:** This document is itself written using Markdown; you
can [see the source for it by adding '.text' to the URL] [src].

  [s]: /projects/markdown/syntax  "Markdown Syntax"
  [d]: /projects/markdown/dingus  "Markdown Dingus"
  [src]: /projects/markdown/basics.text


## Paragraphs, Headers, Blockquotes ##

A paragraph is simply one or more consecutive lines of text, separated
by one or more blank lines. (A blank line is any line that looks like
a blank line -- a line containing nothing but spaces or tabs is
considered blank.) Normal paragraphs should not be indented with
spaces or tabs.

Markdown offers two styles of headers: *Setext* and *atx*.
Setext-style headers for `<h1>` and `<h2>` are created by
"underlining" with equal signs (`=`) and hyphens (`-`), respectively.
To create an atx-style header, you put 1-6 hash marks (`#`) at the
beginning of the line -- the number of hashes equals the resulting
HTML header level.

Blockquotes are indicated using email-style '`>`' angle brackets.

Markdown:

    A First Level Header
    ====================

    A Second Level Header
    ---------------------

    Now is the time for all good men to come to
    the aid of their country. This is just a
    regular paragraph.

    The quick brown fox jumped over the lazy
    dog's back.

    ### Header 3

    > This is a blockquote.
    >
    > This is the second paragraph in the blockquote.
    >
    > ## This is an H2 in a blockquote


Output:

    <h1>A First Level Header</h1>

    <h2>A Second Level Header</h2>

    <p>Now is the time for all good men to come to
    the aid of their country. This is just a
    regular paragraph.</p>

    <p>The quick brown fox jumped over the lazy
    dog's back.</p>

    <h3>Header 3</h3>

    <blockquote>
        <p>This is a blockquote.</p>

        <p>This is the second paragraph in the blockquote.</p>

        <h2>This is an H2 in a blockquote</h2>
    </blockquote>



### Phrase Emphasis ###

Markdown uses asterisks and underscores to indicate spans of emphasis.

Markdown:

    Some of these words *are emphasized*.
    Some of these words _are emphasized also_.

    Use two asterisks for **strong emphasis**.
    Or, if you prefer, __use two underscores instead__.

Output:

    <p>Some of these words <em>are emphasized</em>.
    Some of these words <em>are emphasized also</em>.</p>

    <p>Use two asterisks for <strong>strong emphasis</strong>.
    Or, if you prefer, <strong>use two underscores instead</strong>.</p>



## Lists ##

Unordered (bulleted) lists use asterisks, pluses, and hyphens (`*`,
`+`, and `-`) as list markers. These three markers are
interchangable; this:

    *   Candy.
    *   Gum.
    *   Booze.

this:

    +   Candy.
    +   Gum.
    +   Booze.

and this:

    -   Candy.
    -   Gum.
    -   Booze.

all produce the same output:

    <ul>
    <li>Candy.</li>
    <li>Gum.</li>
    <li>Booze.</li>
    </ul>

Ordered (numbered) lists use regular numbers, followed by periods, as
list markers:

    1.  Red
    2.  Green
    3.  Blue

Output:

    <ol>
    <li>Red</li>
    <li>Green</li>
    <li>Blue</li>
    </ol>

If you put blank lines between items, you'll get `<p>` tags for the
list item text. You can create multi-paragraph list items by indenting
the paragraphs by 4 spaces or 1 tab:

*   A list item.

    With multiple paragraphs.

*   Another item in the list.

Output:

    <ul>
    <li><p>A list item.</p>
    <p>With multiple paragraphs.</p></li>
    <li><p>Another item in the list.</p></li>
    </ul>



### Links ###

Markdown supports two styles for creating links: *inline* and
*reference*. With both styles, you use square brackets to delimit the
text you want to turn into a link.

Inline-style links use parentheses immediately after the link text.
For example:

    This is an [example link](http://example.com/).

Output:

    <p>This is an <a href="http://example.com/">
    example link</a>.</p>

Optionally, you may include a title attribute in the parentheses:

    This is an [example link](http://example.com/ "With a Title").

Output:

    <p>This is an <a href="http://example.com/" title="With a Title">
    example link</a>.</p>

Reference-style links allow you to refer to your links by names, which
you define elsewhere in your document:

    I get 10 times more traffic from [Google][1] than from
    [Yahoo][2] or [MSN][3].

    [1]: http://google.com/        "Google"
    [2]: http://search.yahoo.com/  "Yahoo Search"
    [3]: http://search.msn.com/    "MSN Search"

Output:

    <p>I get 10 times more traffic from <a href="http://google.com/"
    title="Google">Google</a> than from <a href="http://search.yahoo.com/"
    title="Yahoo Search">Yahoo</a> or <a href="http://search.msn.com/"
    title="MSN Search">MSN</a>.</p>

The title attribute is optional. Link names may contain letters,
numbers and spaces, but are *not* case sensitive:

    I start my morning with a cup of coffee and
    [The New York Times][NY Times].

    [ny times]: http://www.nytimes.com/

Output:

    <p>I start my morning with a cup of coffee and
    <a href="http://www.nytimes.com/">The New York Times</a>.</p>


### Images ###

Image syntax is very much like link syntax.

Inline (titles are optional):

    ![alt text](/path/to/img.jpg "Title")

Reference-style:

    ![alt text][id]

    [id]: /path/to/img.jpg "Title"

Both of the above examples produce the same output:

    <img src="/path/to/img.jpg" alt="alt text" title="Title" />



### Code ###

In a regular paragraph, you can create a code span by wrapping text in
backtick quotes. Any ampersands (`&`) and angle brackets (`<` or
`>`) will automatically be translated into HTML entities. This makes
it easy to use Markdown to write about HTML example code:

    I strongly recommend against using any `<blink>` tags.

    I wish SmartyPants used named entities like `&mdash;`
    instead of decimal-encoded entites like `&#8212;`.

Output:

    <p>I strongly recommend against using any
    <code>&lt;blink&gt;</code> tags.</p>

    <p>I wish SmartyPants used named entities like
    <code>&amp;mdash;</code> instead of decimal-encoded
    entites like <code>&amp;#8212;</code>.</p>


To specify an entire block of pre-formatted code, indent every line of
the block by 4 spaces or 1 tab. Just like with code spans, `&`, `<`,
and `>` characters will be escaped automatically.

Markdown:

    If you want your page to validate under XHTML 1.0 Strict,
    you've got to put paragraph tags in your blockquotes:

        <blockquote>
            <p>For example.</p>
        </blockquote>

Output:

    <p>If you want your page to validate under XHTML 1.0 Strict,
    you've got to put paragraph tags in your blockquotes:</p>

    <pre><code>&lt;blockquote&gt;
        &lt;p&gt;For example.&lt;/p&gt;
    &lt;/blockquote&gt;
    </code></pre>

 -->

<!-- footnotes  -->

[^markdown_origins]: <http://daringfireball.net/2004/03/dive_into_markdown>

[^footnote_example]: Like this.

[^latex_polytex]: This manual uses "\PolyTeX" when the distinction with "\LaTeX" is important and "\LaTeX" otherwise.

[^quote_translation]: Usually translated as "Perfection is achieved, not when there is nothing more to add, but when there is nothing left to take away."

[^latex_images]: The issue is that \LaTeX\ images have no notion of "alt text", so that information is lost in translation. (This is a slight disadvantage of converting Markdown to \LaTeX\ before converting to HTML, though the advantages more than compensate for it.)